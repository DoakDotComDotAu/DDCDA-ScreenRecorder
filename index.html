<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="style_loader.css" />
  <link rel="stylesheet" href="style_ldtoggle.css" />
  <title>DDCDA Screen Recorder</title>
  <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
</head>
<body onload="myFunction()">
  <div id="loader"></div>
  <div class="wrap animate-bottom" id="wrap" style="display: none;"><br>
    <button class="toggle-btn" id="toggleMode">Toggle Dark/Light</button>
    <div class="icon-placeholder"><img src="assets/ddcda_dark.png" id="icon">
      <h1>Screen Recorder</h1>
      <small>Capture screen + optional mic, save as WebM</small></div>
    <div class="grid">
      <div class="card" id="controls">
        <h2>Controls & Settings</h2>
        <div class="content">
          <label>
            Video bitrate (kbps)
            <select id="bitrate">
              <option value="2500">2500 (720p)</option>
              <option value="4500" selected>4500 (1080p)</option>
              <option value="8000">8000 (high)</option>
              <option value="12000">12000 (very high)</option>
            </select>
          </label>
          <label>
            Frame rate (fps)
            <select id="fps">
              <option selected>60</option>
              <option>50</option>
              <option>45</option>
              <option>30</option>
              <option>25</option>
            </select>
          </label>
          <label>
            Record system/tab audio
            <input id="sysAudio" type="checkbox" />
          </label>
          <label>
            Record microphone
            <input id="micAudio" type="checkbox" />
          </label>
          <div class="row">
            <button class="btn primary" id="startBtn">Start Capture</button>
            <button class="btn secondary" id="pauseBtn" disabled>Pause</button>
            <button class="btn danger" id="stopBtn" disabled>Stop & Save</button>
          </div>
          <div class="row">
            <span class="kbd" id="status">Idle</span>
            <span class="muted">Time Recorded: <span id="timer">00:00</span></span>
          </div>
          <div class="hint">
            <ul>
              <li>For system audio, share a tab/window that has audio and tick "Share tab audio" if your browser shows it.</li>
              <li>For microphone, ensure your browser has permission to access the mic.</li>
              <li>HTTPS is required to use this website, not standard HTTP.</li>
              <li>For best results, use Chrome or Firefox browsers.</li>
              <li>Recordings are saved as WebM files, which are widely supported.</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="card">
        <h2>Preview</h2>
        <video id="preview" autoplay playsinline muted></video>
        <div class="progress"><div id="progressBar"></div></div>
        <div class="bar">
          <div class="row">
            <span class="kbd">REC</span>
            <span id="size" class="muted">0.0 MB</span>
          </div>
          <a id="downloadLink" class="download" download="recording.webm" hidden>Download recording</a>
        </div>
      </div>
    </div><br>
    <div class="card">
      <h2>About</h2>
      <div class="content">
        <p>
          The DDCDA Screen Recorder is a simple tool to capture your screen and optionally include microphone audio.
          It uses the MediaStream Recording API to create high-quality WebM recordings.
          This tool was developed by the developer of <a href="https://gc.doak.com.au">DDCDA</a>.
          If you have any questions or feedback, please contact us at <a href="mailto:info@gc.doak.com.au">info@gc.doak.com.au</a>.
        </p>
      </div>
    </div>
  </div>
  <br><br>

  <script src="script.js"></script>
  <script src="script_loader.js"></script>
  <script src="script_ldtoggle.js"></script>
</body>
</html>